var data={};
data.adUnit='IA';
data.device='mobile';
var svg = '<svg width="20" height="150" viewBox="0 0 20 150" fill="none" xmlns="http://www.w3.org/2000/svg">  <rect width="20" height="150" fill="#E5E5E5"/>  <rect y="150" width="150" height="20" transform="rotate(-90 0 150)" fill="#414141"/>  <path d="M15.5 135.17H2.70312L2.70313 130.688C2.70313 129.135 3.00195 127.957 3.59961 127.154C4.19141 126.352 5.06152 125.95 6.20996 125.95C6.83691 125.95 7.39063 126.111 7.87109 126.434C8.3457 126.756 8.69434 127.204 8.91699 127.778C9.08105 127.122 9.41211 126.606 9.91016 126.231C10.4082 125.851 11.0176 125.66 11.7383 125.66C12.9688 125.66 13.9004 126.053 14.5332 126.838C15.166 127.623 15.4883 128.742 15.5 130.195V135.17ZM9.92773 132.533H13.3818V130.274C13.3818 129.653 13.2354 129.17 12.9424 128.824C12.6436 128.473 12.2334 128.297 11.7119 128.297C10.54 128.297 9.94531 128.903 9.92773 130.116V132.533ZM8.06445 132.533V130.582C8.04102 129.252 7.51074 128.587 6.47363 128.587C5.89355 128.587 5.47754 128.757 5.22559 129.097C4.96777 129.431 4.83887 129.961 4.83887 130.688V132.533H8.06445ZM15.5 120.87V123.507H2.70313V120.87H15.5ZM15.5 118.418H2.70313L2.70313 114.48C2.70313 113.355 2.95801 112.351 3.46777 111.466C3.97168 110.575 4.69238 109.881 5.62988 109.383C6.56152 108.885 7.62207 108.636 8.81152 108.636H9.40039C10.5898 108.636 11.6475 108.882 12.5732 109.374C13.499 109.86 14.2168 110.549 14.7266 111.439C15.2363 112.33 15.4941 113.335 15.5 114.454V118.418ZM4.83887 115.781H13.3818V114.507C13.3818 113.476 13.0449 112.688 12.3711 112.143C11.6973 111.598 10.7334 111.319 9.47949 111.308H8.80273C7.50195 111.308 6.51758 111.577 5.84961 112.116C5.17578 112.655 4.83887 113.443 4.83887 114.48L4.83887 115.781ZM12.1426 100.075C11.6445 100.075 11.2637 100.251 11 100.603C10.7305 100.954 10.4492 101.587 10.1563 102.501C9.85742 103.415 9.56445 104.139 9.27734 104.672C8.49219 106.125 7.43457 106.852 6.10449 106.852C5.41309 106.852 4.79785 106.658 4.25879 106.271C3.71387 105.879 3.28906 105.319 2.98438 104.593C2.67969 103.86 2.52734 103.04 2.52734 102.132C2.52734 101.218 2.69434 100.403 3.02832 99.6885C3.35645 98.9736 3.82227 98.4199 4.42578 98.0273C5.0293 97.6289 5.71484 97.4297 6.48242 97.4297V100.066C5.89648 100.066 5.44238 100.251 5.12012 100.62C4.79199 100.989 4.62793 101.508 4.62793 102.176C4.62793 102.82 4.76563 103.321 5.04102 103.679C5.31055 104.036 5.66797 104.215 6.11328 104.215C6.5293 104.215 6.87793 104.007 7.15918 103.591C7.44043 103.169 7.7041 102.551 7.9502 101.736C8.40137 100.236 8.96094 99.1436 9.62891 98.458C10.2969 97.7725 11.1289 97.4297 12.125 97.4297C13.2324 97.4297 14.1025 97.8486 14.7354 98.6865C15.3623 99.5244 15.6758 100.652 15.6758 102.07C15.6758 103.055 15.4971 103.951 15.1396 104.76C14.7764 105.568 14.2813 106.187 13.6543 106.614C13.0273 107.036 12.3008 107.247 11.4746 107.247V104.602C12.8867 104.602 13.5928 103.758 13.5928 102.07C13.5928 101.443 13.4668 100.954 13.2148 100.603C12.957 100.251 12.5996 100.075 12.1426 100.075ZM7.11523 91.0576L2.70313 88.6582V85.626L9.04883 89.3525L15.5 85.5293V88.5967L11.0176 91.0576L15.5 93.5186V96.5859L9.04883 92.7627L2.70313 96.4893V93.457L7.11523 91.0576ZM11.2373 74.376C12.6143 74.4756 13.6982 74.9854 14.4893 75.9053C15.2803 76.8193 15.6758 78.0264 15.6758 79.5264C15.6758 81.167 15.125 82.459 14.0234 83.4023C12.916 84.3398 11.3984 84.8086 9.4707 84.8086H8.68848C7.45801 84.8086 6.37402 84.5918 5.43652 84.1582C4.49902 83.7246 3.78125 83.1064 3.2832 82.3037C2.7793 81.4951 2.52734 80.5576 2.52734 79.4912C2.52734 78.0146 2.92285 76.8252 3.71387 75.9229C4.50488 75.0205 5.61523 74.499 7.04492 74.3584V76.9951C6.21875 77.0596 5.62109 77.291 5.25195 77.6895C4.87695 78.082 4.68945 78.6826 4.68945 79.4912C4.68945 80.3701 5.00586 81.0293 5.63867 81.4688C6.26563 81.9023 7.24121 82.125 8.56543 82.1367H9.53223C10.915 82.1367 11.9258 81.9287 12.5645 81.5127C13.2031 81.0908 13.5225 80.4287 13.5225 79.5264C13.5225 78.7119 13.3379 78.1055 12.9688 77.707C12.5938 77.3027 12.0166 77.0713 11.2373 77.0127V74.376ZM15.5 62.2295V64.8662H10.0156V70.0078H15.5V72.6445H2.70313V70.0078H7.88867V64.8662H2.70313V62.2295H15.5ZM12.8633 52.5352V57.1582L15.5 58.0371V60.8408L2.70313 56.0771V53.6338L15.5 48.8438L15.5 51.6475L12.8633 52.5352ZM10.7275 56.4463V53.2471L5.9375 54.8555L10.7275 56.4463ZM15.5 37.2422V39.8789L7.08008 45.0117H15.5V47.6484H2.70313L2.70313 45.0117L11.1406 39.8701H2.70313L2.70313 37.2422H15.5ZM13.8828 24.8145C14.4512 25.2891 14.8936 25.96 15.21 26.8271C15.5205 27.6943 15.6758 28.6553 15.6758 29.71C15.6758 30.8174 15.4355 31.79 14.9551 32.6279C14.4688 33.46 13.7656 34.1045 12.8457 34.5615C11.9258 35.0127 10.8447 35.2441 9.60254 35.2559H8.73242C7.45508 35.2559 6.35059 35.042 5.41895 34.6143C4.48145 34.1807 3.7666 33.5596 3.27441 32.751C2.77637 31.9365 2.52734 30.9844 2.52734 29.8945C2.52734 28.377 2.89063 27.1904 3.61719 26.335C4.33789 25.4795 5.38965 24.9727 6.77246 24.8145V27.3809C6.04004 27.498 5.50391 27.7588 5.16406 28.1631C4.82422 28.5615 4.6543 29.1123 4.6543 29.8154C4.6543 30.7119 4.99121 31.3945 5.66504 31.8633C6.33887 32.332 7.34082 32.5693 8.6709 32.5752H9.48828C10.8301 32.5752 11.8438 32.3203 12.5293 31.8105C13.2148 31.3008 13.5576 30.5537 13.5576 29.5693C13.5576 28.5791 13.3467 27.873 12.9248 27.4512H10.7188V29.8506H8.77637V24.8145H13.8828ZM9.9541 14.9707V20.0332H13.3818V14.0918H15.5V22.6699H2.70313L2.70313 14.1094H4.83887V20.0332H7.88867V14.9707H9.9541Z" fill="#FDFDFD"/></svg>';

var settings={};
settings.desktop_pixel='';
settings.desktop_language='english';
settings.desktop_type='in_content';
settings.desktop_tag1='' ;
settings.desktop_tag2='' ;
settings.desktop_tag3='' ;
settings.desktop_tag4='' ;
settings.desktop_tag5='' ;
settings.desktop_size='300x250';
settings.desktop_skip_home_page='no';
settings.desktop_skip_pages_ending_with='';
settings.desktop_cap=1;
settings.desktop_alternate='no';
settings.desktop_selector='';
settings.desktop_close_button='icon';
settings.desktop_close_button_size='medium';
settings.desktop_close_button_position='left';
settings.desktop_refresh_when='always';
settings.desktop_refresh_times=1;
settings.desktop_show_adchoices='no';

settings.mobile_pixel='';
settings.mobile_language='english';
settings.mobile_type='in_content';
settings.mobile_tag1="<script async src='https://securepubads.g.doubleclick.net/tag/js/gpt.js'></script> <div id='gpt-passback'>   <script>     window.googletag = window.googletag || {cmd: []};     googletag.cmd.push(function() {     googletag.defineSlot('/21674279164/sl-standard-banners-4', [300, 250], 'gpt-passback').addService(googletag.pubads());     googletag.enableServices();     googletag.display('gpt-passback');     });   </script> </div>";
settings.mobile_tag2="<script async src='https://securepubads.g.doubleclick.net/tag/js/gpt.js'></script> <div id='gpt-passback'>   <script>     window.googletag = window.googletag || {cmd: []};     googletag.cmd.push(function() {     googletag.defineSlot('/21674279164/sl-standard-banners-4', [300, 250], 'gpt-passback').addService(googletag.pubads());     googletag.enableServices();     googletag.display('gpt-passback');     });   </script> </div>";
settings.mobile_tag3="<script async src='https://securepubads.g.doubleclick.net/tag/js/gpt.js'></script> <div id='gpt-passback'>   <script>     window.googletag = window.googletag || {cmd: []};     googletag.cmd.push(function() {     googletag.defineSlot('/21674279164/sl-standard-banners-4', [300, 250], 'gpt-passback').addService(googletag.pubads());     googletag.enableServices();     googletag.display('gpt-passback');     });   </script> </div>";
settings.mobile_tag4="<script async src='https://securepubads.g.doubleclick.net/tag/js/gpt.js'></script> <div id='gpt-passback'>   <script>     window.googletag = window.googletag || {cmd: []};     googletag.cmd.push(function() {     googletag.defineSlot('/21674279164/sl-standard-banners-4', [300, 250], 'gpt-passback').addService(googletag.pubads());     googletag.enableServices();     googletag.display('gpt-passback');     });   </script> </div>";
settings.mobile_tag5="<script async src='https://securepubads.g.doubleclick.net/tag/js/gpt.js'></script> <div id='gpt-passback'>   <script>     window.googletag = window.googletag || {cmd: []};     googletag.cmd.push(function() {     googletag.defineSlot('/21674279164/sl-standard-banners-4', [300, 250], 'gpt-passback').addService(googletag.pubads());     googletag.enableServices();     googletag.display('gpt-passback');     });   </script> </div>";
settings.mobile_size='300x250';
settings.mobile_skip_home_page='no';
settings.mobile_skip_pages_ending_with='';
settings.mobile_cap=1;
settings.mobile_alternate='no';
settings.mobile_selector='';
settings.mobile_close_button='icon';
settings.mobile_close_button_size='medium';
settings.mobile_close_button_position='left';
settings.mobile_refresh_when='always';
settings.mobile_refresh_times=1;
settings.mobile_show_adchoices='no';

function log() {
	var obj=null;
	if(arguments.length>0) {
		obj=arguments[0];
	} else {
		console.clear();
		return;
	}
	var dt=new Date();
	var prefix='\u26A1\x1b[36m['+dt.toLocaleString('en-US', { hour: 'numeric', minute: 'numeric', second: 'numeric', hour12: true })+'] '+data.device+'-'+data.adUnit+'\u21FE ';
	if(typeof(obj)==='string') {
		console.log(prefix+obj);
	} else {
		console.log(prefix);
		console.log(obj);
	}
}
function IDGenerator() {
 this.length=8;
 this.timestamp=+new Date;
 var getRandomInt=function(min,max) { return Math.floor(Math.random()*(max-min+1))+min; }
 this.generate=function() {
	 var ts=this.timestamp.toString();
	 var parts=ts.split('').reverse();
	 var id='';
	 for(var i=0;i<this.length;++i) {
		var index=getRandomInt(0,parts.length-1);
		id+=parts[index];
	 }
	 return id;
 }
}
var IDG=new IDGenerator();
function getId() { return IDG.generate(); }
function toHTML(str) {
	var textarea1=document.createElement('textarea');
	textarea1.innerHTML=str;
	textarea1.style.display='none';
	document.body.appendChild(textarea1);
	str=textarea1.value;
	document.body.removeChild(textarea1);
	return str;
}
function getWindowFromIframe(iframe_object) {
  var doc;
  if(iframe_object.contentWindow) {
    return iframe_object.contentWindow;
  }
  if(iframe_object.window) {
    return iframe_object.window;
  } 
  if(iframe_object.contentDocument) {
    doc=iframe_object.contentDocument;
  } 
  if(!doc && iframe_object.document) {
    doc=iframe_object.document;
  }
  if(doc&&doc.defaultView) {
   return doc.defaultView;
  }
  if(doc&&doc.parentWindow) {
    return doc.parentWindow;
  }
  return undefined;
}
function isWindow(obj) { return obj!=null && obj===obj.window; }
function getWindow(elem) { return isWindow(elem) ? elem : elem.nodeType===9 && elem.defaultView; }
function round(value,decimals) { return (Number(Math.round(value+"e"+decimals)+"e-"+decimals)).toFixed(decimals); };
function offset(elem) {
	var docElem,win,
	box={top:0,left:0},
	doc=elem && elem.ownerDocument;
	docElem=doc.documentElement;
	if(typeof(elem.getBoundingClientRect)!== typeof(undefined)) {
		box=elem.getBoundingClientRect();
	}
	win=getWindow(doc);
	return {
		top: box.top+win.pageYOffset-docElem.clientTop,
		left: box.left+win.pageXOffset-docElem.clientLeft
	};
}
function getDim(element) {
	return {
		width: element.getBoundingClientRect().width,
		height: element.getBoundingClientRect().height,
		left: offset(element).left,
		top: offset(element).top
	};
}
function transform(element,transformOrigin,scale,translate) {
	element.style.transformOrigin=transformOrigin;
	element.style.webkitTransformOrigin=transformOrigin;
	element.style.mozTransformOrigin=transformOrigin;
	element.style.msTransformOrigin=transformOrigin;
	element.style.oTransformOrigin=transformOrigin;
	element.style.transformOrigin=transformOrigin;
	element.style.webkitTransform='scale('+scale+','+scale+') translate('+translate+')';
	element.style.mozTransform='scale('+scale+','+scale+') translate('+translate+')';
	element.style.msTransform='scale('+scale+','+scale+') translate('+translate+')';
	element.style.oTransform='scale('+scale+','+scale+') translate('+translate+')';
	element.style.transform='scale('+scale+','+scale+') translate('+translate+')';
}
try {
(function(W,D){
	

function in_content_helper(contentLength) {
	var inContentStack=[];
	var minTop=100;
	function checkContent(element,selector) {
		if(element.nodeName!==selector) return false;
		var isOk=true;
		if( 
			element.getBoundingClientRect().top<minTop ||
			element.querySelectorAll('script').length>0 ||
			element.querySelectorAll('iframe').length>0 ||
			element.querySelectorAll('style').length>0 ||
			element.querySelectorAll('ul').length>0 ||
			element.querySelectorAll('ol').length>0 ||
			element.querySelectorAll('h1').length>0 ||
			element.querySelectorAll('h2').length>0 ||
			element.querySelectorAll('h3').length>0 ||
			element.querySelectorAll('h4').length>0 ||
			element.querySelectorAll('h5').length>0 ||
			element.querySelectorAll('h6').length>0 ||
			element.querySelectorAll('section').length>0 ||
			element.querySelectorAll('article').length>0 ||
			element.querySelectorAll('div').length>0 ||
			element.querySelectorAll('p').length>0 ||
			element.querySelectorAll('span').length>0 ||
			element.querySelectorAll('img').length>0 ||
			element.innerHTML.length<contentLength
		) isOk=false;
		return isOk;
	}
	function filter(element) {
		var status=false;
		if( 
			checkContent(element,'SPAN')||
			checkContent(element,'P')||
			checkContent(element,'DIV')||
			checkContent(element,'UL')||
			checkContent(element,'OL')||
			checkContent(element,'H3')
			) {
			var dim=getDim(element);
			var minWidth=400;
			if(data.device=='mobile') minWidth=300;
			if(dim.width>=minWidth&&dim.width<1000&&dim.height>=50) {
				inContentStack.push(element);
				status=true;
			}
		}
		return status;
	}
	function getTargets(element) {
		var children=getChildren(element);
		for(var i=0;i<children.length;++i) {
			var element=children[i];
			if(filter(element)) {
				continue;
			}
			getTargets(element);
		}
	}
	function getChildren(parent) {
		var children=parent.childNodes;
		var childrenArray=[];
		for(var i=0;i<children.length;++i) {
			var element=children[i];
			childrenArray.push(element);
		}
		return childrenArray;
	}
	var children=getChildren(D.body);
	for(var i=0;i<children.length;++i) {
		var element=children[i];
		if(filter(element)) continue;
		getTargets(element);
	}
	return inContentStack;
}

	data.tags=[];
	for(var i=1;i<6;++i) {
		if(settings[data.device+'_tag'+i].length>0) {
			data.tags.push(toHTML(settings[data.device+'_tag'+i]));
		}
	}
	if(data.tags.length==0) {
		log('no '+data.device+' tags');
		return;
	}
	data.id=getId();
	if(settings.pixel!=null&&settings.pixel.length>0) {
		data.pixel=settings.pixel.trim();
		if(data.pixel.length>0) {
			data.pixel=toHTML(data.pixel);
		} else {
			data.pixel=null;
		}
	} else {
		data.pixel=null;
	}
	data.type=settings[data.device+'_type'];
	data.skip_home_page=(settings[data.device+'_skip_home_page']=='yes')?true:false;
	data.skip_pages_ending_with=settings[data.device+'_skip_pages_ending_with'];
	data.width=parseInt(settings[data.device+'_size'].split('x')[0]);
	data.height=parseInt(settings[data.device+'_size'].split('x')[1]);
	data.cap=parseInt(settings[data.device+'_cap']);
	data.alternate=(settings[data.device+'_alternate']=='yes')?true:false;
	data.selector=settings[data.device+'_selector'];
	data.close_button=settings[data.device+'_close_button'];

	data.language=settings[data.device+'_language'];
	data.contentLength=150;
	switch(data.language) {
		case 'english': {
			data.contentLength=150;
		} break;
		case 'chinese': {
			data.contentLength=90;
		} break;
	}

	data.close_button_size=settings[data.device+'_close_button_size'];
	data.topBarHeight=20;
	data.scaleXY=0.5;
	if(data.close_button_size=='medium') {
		data.topBarHeight=25;
		data.scaleXY=0.75;
	} else if(data.close_button_size=='large') {
		data.topBarHeight=35;
		data.scaleXY=1;
	}
	
	data.close_button_position=settings[data.device+'_close_button_position'];
	data.refresh_when=settings[data.device+'_refresh_when'];
	data.refresh_times=parseInt(settings[data.device+'_refresh_times']);
	data.show_adchoices=(settings[data.device+'_show_adchoices']=='yes')?true:false;
	data.show_adchoices=false;
	data.margin=2;

	if(data.skip_pages_ending_with.length>0&&W.location.href.endsWith(settings.skip_pages_ending_with)) {
		log('triggered: skip_pages_ending_with');
		return;
	}
	if(data.skip_home_page==true) {
		var url=W.location.href;
		var forwardSlashCount=0;
		for(var i=0;i<url.length;++i) {
			if(url[i]=='/') {
				++forwardSlashCount;
			}
		}
		if(forwardSlashCount==3&&W.location.href.endsWith('/')) {
			log('triggered: skip_home_page');
			return;
		}
	}
	data.objects=[];
	data.alternateStatus=false;
	if(data.selector.length>0) {
		var target=null;
		if(data.selector.startsWith('#')) {
			target=D.querySelector(data.selector);
		} else {
			target=Array.from(D.querySelectorAll(data.selector.split('#')[0]))[parseInt(data.selector.split('#')[1])-1];
		}
		if(target==null||typeof(target)==='undefined'||target.length==0) {
		} else {
			data.objects.push(new createAdUnit(target));
		}
	} else {
		var capture_thread=setInterval(function() {
			var targets=in_content_helper(data.contentLength);
			if(targets.length>0) {
				clearInterval(capture_thread);
				for(var i=0;i<targets.length;++i) {
					if(data.cap>0) {
						if(i<data.cap);
						else break;
					}
					if(data.alternate) {
						if(data.alternateStatus) {
							data.alternateStatus=false;
						} else {
							data.alternateStatus=true;
							data.objects.push(new createAdUnit(targets[i]));
						}
					} else {
						data.objects.push(new createAdUnit(targets[i]));
					}
				}
			}
		},1);
	}

	function createAdUnit(target) {
		var This=this;
		This.isClosed=false;
		This.id=getId();
		This.target=target;
		This.main=D.createElement('div');
		target.parentNode.insertBefore(This.main,target.nextSibling);
		This.main.id=data.adUnit+'-'+data.device+'-'+This.id;
		This.main.style.margin=data.margin+'px';
		This.main.style.width=getDim(This.target).width+'px';
		This.main.style.position='relative';
		if(data.close_button!='none') {
			This.main.style.height=(data.height+data.topBarHeight)+'px';
		} else {
			This.main.style.height=data.height+'px';
		}

		This.adContainer=D.createElement('div');
		This.adContainer.id='adContainer-'+data.adUnit+'-'+data.device+'-'+This.id;
		This.main.appendChild(This.adContainer);
		This.adContainer.style.position='absolute';
		This.adContainer.style.width=data.width+42+'px';
		if(data.close_button!='none') {
			This.adContainer.style.height=(data.height+data.topBarHeight)+'px';
		} else {
			This.adContainer.style.height=data.height+'px';
		}
		This.adContainer.style.bottom='0%';
		This.adContainer.style.left='50%';
		This.adContainer.style.webkitTransformOrigin='50% 100%';
		This.adContainer.style.mozTransformOrigin='50% 100%';
		This.adContainer.style.msTransformOrigin='50% 100%';
		This.adContainer.style.oTransformOrigin='50% 100%';
		This.adContainer.style.transformOrigin='50% 100%';
		This.adContainer.style.transformOrigin='50% 100%';
		This.adContainer.style.webkitTransform='translate(-50%,0%)';
		This.adContainer.style.mozTransform='translate(-50%,0%)';
		This.adContainer.style.msTransform='translate(-50%,0%)';
		This.adContainer.style.oTransform='translate(-50%,0%)';
		This.adContainer.style.transform='translate(-50%,0%)';

		This.topBar={};
		if(data.close_button!='none') {
			This.topBar.main=D.createElement('div');
			This.adContainer.appendChild(This.topBar.main);
			This.topBar.main.id=data.close_button+'-'+data.close_button_position+'-'+data.close_button_size;
			This.topBar.main.style.position='relative';
			This.topBar.main.style.width=This.width+'px';
			This.topBar.main.style.height=data.topBarHeight+'px';

			This.topBar.bar=D.createElement('div');
			This.topBar.main.appendChild(This.topBar.bar);
			This.topBar.bar.style.position='absolute';
			if(data.close_button_position=='left') {
				This.topBar.bar.style.left='0%';
			} else {
				This.topBar.bar.style.right='0%';
			}
			This.topBar.bar.style.top='0%';
			This.topBar.bar.style.width='100px';
			This.topBar.bar.style.height=data.topBarHeight+'px';
			
			This.topBar.closeButton=D.createElement('div');
			This.topBar.bar.appendChild(This.topBar.closeButton);
			This.topBar.closeButton.addEventListener('click',function() { close(This); },false);
			This.topBar.closeButton.style.width='25px';
			This.topBar.closeButton.style.height=data.topBarHeight+'px';
			This.topBar.closeButton.style.position='absolute';
			This.topBar.closeButton.style.left='0px';
			This.topBar.closeButton.style.top='5px';
			This.topBar.closeButton.style.cursor='pointer';
			This.topBar.closeButton.style.fontWeight='bolder';
			This.topBar.closeButton.style.display='inline-block';
			This.topBar.closeButton.title='Ads by Streamlyn';
			
			if(data.show_adchoices) {
				This.topBar.adchoicesImg=D.createElement('img');
				This.topBar.bar.appendChild(This.topBar.adchoicesImg);
				This.topBar.adchoicesImg.addEventListener('click',function() { W.open('https://streamlyn.com', '_blank', 'location=yes,height=570,width=520,scrollbars=yes,status=yes'); },false);
				This.topBar.adchoicesImg.style.width='20px';
				This.topBar.adchoicesImg.style.cursor='pointer';
				This.topBar.adchoicesImg.style.position='absolute';
				This.topBar.adchoicesImg.style.top='3px';
				This.topBar.adchoicesImg.style.left='25px';
				This.topBar.adchoicesImg.style.cursor='pointer';
				This.topBar.adchoicesImg.style.display='inline-block';
				This.topBar.adchoicesImg.setAttribute('src','http://bmwbp83489qwwkl.belugacdn.link/adchoices.png');
				if(data.close_button=='icon') {
					This.topBar.closeButton.style.top='0px';
				} else {
					This.topBar.adchoicesImg.style.left='47px';
				}
			}
			if(data.close_button=='icon') {
				
				This.adContainer.style.display = "flex"
				// This.topBar.closeButton.innerHTML='<svg width="20px" height="20px" clip-rule="evenodd" fill-rule="evenodd" image-rendering="optimizeQuality" shape-rendering="geometricPrecision" text-rendering="geometricPrecision" viewBox="0 0 13547 13547" xml:space="preserve" xmlns="http://www.w3.org/2000/svg"><defs><style type="text/css">   <![CDATA[    .fil0 {fill:none}    .fil1 {fill:black}   ]]>  </style></defs><polygon class="fil0" points="0 0 13547 0 13547 13547 0 13547"/><path class="fil1" d="m714 12832h12118v-12117h-12118v12117zm4188-2990 1871-1871 1871 1871 1197-1197-1871-1871 1871-1871-1197-1197-1871 1871-1871-1871-1197 1197 1871 1871-1871 1871 1197 1197z"/></svg>';
			} else {
				This.topBar.bar.style.width='70px';
				This.topBar.closeButton.innerHTML="Close";
			}
			if(data.close_button_position=='left') {
				This.topBar.bar.style.left='0%';
				This.topBar.bar.style.webkitTransformOrigin='0% 0%';
				This.topBar.bar.style.mozTransformOrigin='0% 0%';
				This.topBar.bar.style.msTransformOrigin='0% 0%';
				This.topBar.bar.style.oTransformOrigin='0% 0%';
				This.topBar.bar.style.transformOrigin='0% 0%';
				This.topBar.bar.style.transformOrigin='0% 0%';
			} else {
				This.topBar.bar.style.right='0%';
				This.topBar.bar.style.webkitTransformOrigin='100% 0%';
				This.topBar.bar.style.mozTransformOrigin='100% 0%';
				This.topBar.bar.style.msTransformOrigin='100% 0%';
				This.topBar.bar.style.oTransformOrigin='100% 0%';
				This.topBar.bar.style.transformOrigin='100% 0%';
				This.topBar.bar.style.transformOrigin='100% 0%';
			}
			This.topBar.bar.style.webkitTransform='scale('+data.scaleXY+','+data.scaleXY+')';
			This.topBar.bar.style.mozTransform='scale('+data.scaleXY+','+data.scaleXY+')';
			This.topBar.bar.style.msTransform='scale('+data.scaleXY+','+data.scaleXY+')';
			This.topBar.bar.style.oTransform='scale('+data.scaleXY+','+data.scaleXY+')';
			This.topBar.bar.style.transform='scale('+data.scaleXY+','+data.scaleXY+')';
		}
		This.adCon=null;
		This.index=0;
		This.refresh_times=data.refresh_times;
		This.render=function() {
			try { This.iframe.parentNode.removeChild(This.iframe); } catch(ex) {}
			try { This.adCon.parentNode.removeChild(This.adCon); } catch(ex) {}
			This.iframe=D.createElement('iframe');
			This.adContainer.appendChild(This.iframe);
			var scale = 1;
				var AdDimensions = settings.desktop_size.split("x");
				if(parseInt(AdDimensions[1]) < 150){
					scale = parseInt(AdDimensions[1])/150
				}

				var brand = document.createElement('div');
				brand.style.position = "relative";
				brand.style.transform = "scale("+scale+")";
				brand.style.transformOrigin = "top right"
				brand.style.width = "22px"
				brand.style.height = "150px"
				brand.style.top = "0px"
				brand.innerHTML = svg
				// This.topBar.bar.style.display = "flex" 
				// This.topBar.bar.style.width='50px';
				This.adContainer.prepend(brand);
			var xButton = document.createElement('div');
			xButton.innerHTML = '<svg width="15px" height="15px" clip-rule="evenodd" fill-rule="evenodd" image-rendering="optimizeQuality" shape-rendering="geometricPrecision" text-rendering="geometricPrecision" viewBox="0 0 13547 13547" xml:space="preserve" xmlns="http://www.w3.org/2000/svg"><defs><style type="text/css">   <![CDATA[    .fil0 {fill:none}    .fil1 {fill:black}   ]]>  </style></defs><polygon class="fil0" points="0 0 13547 0 13547 13547 0 13547"/><path class="fil1" d="m714 12832h12118v-12117h-12118v12117zm4188-2990 1871-1871 1871 1871 1197-1197-1871-1871 1871-1871-1197-1197-1871 1871-1871-1871-1197 1197 1871 1871-1871 1871 1197 1197z"/></svg>';
			xButton.style.height = "15px"
			xButton.style.width = "15px"
			xButton.style.position = "relative"
			xButton.style.zIndex = "99999"
			brand.style.cursor="pointer"
				xButton.style.cursor = "pointer"

				brand.onclick = function(){
					window.top.open('https://streamlyn.com/', "_blank");
				};
		
				xButton.onclick = function(){
					This.main.remove();
				}
			//This.adContainer.appendChild(xButton);
			This.iframe.style.margin='0px';
			This.iframe.style.padding='0px';

			This.iframe.style.width=data.width+'px';
			This.iframe.style.height=data.height+'px';
			This.iframe.setAttribute('width',data.width);
			This.iframe.setAttribute('height',data.height);

			This.iframe.setAttribute('src','about:blank');
			This.iframe.setAttribute('frameborder',0);
			This.iframe.setAttribute('scrolling','no');
			This.iframe.setAttribute('marginheight',0);
			This.iframe.setAttribute('marginwidth',0);
			This.iframeWindow=This.iframe.contentWindow||This.iframe.contentDocument.document||This.iframe.contentDocument;
			This.iframeWindow.document.open();
			var content="<!doctype html><html><head><meta http-equiv='Content-Type' content='text/html; charset=utf-8' /></head><body topmargin='0' leftmargin='0' marginwidth='0' marginheight='0' style='overflow:hidden;'>";
			if(data.pixel!=null) {
				content+="<img src='"+data.pixel+"' style='display: none;' />";
				delete data.pixel;
			}
			content+=data.tags[This.index++];
			content+="</body></html>";
			This.iframeWindow.document.write(content);
			This.iframeWindow.document.close();
			This.time_created=new Date().getTime();
			log(This.index+'/'+data.tags.length+' ['+This.id+']');
		};

		This.render();

		This.set=function() {
			if(This.isClosed) {
				clearInterval(This.main_thread);
				return;
			}
			var time_now=new Date().getTime();
			var time_diff=(time_now-This.time_created)/1000;
			if(time_diff>29) {
				if(This.refresh_times>0) {
					if(This.index<data.tags.length) {
						// This.render();
					} else {
						This.index=0;
						--This.refresh_times;
					}
				}
			}
			This.main.style.width=getDim(This.target).width+'px';
			if(data.close_button!='none') {
				This.main.style.height=(data.height+data.topBarHeight)+'px';
			} else {
				This.main.style.height=data.height+'px';
			}
			var adIframes=This.iframeWindow.document.body.querySelectorAll('iframe');
			var adIframe=null;
			for(var i=0;i<adIframes.length;++i) {
				if(getDim(adIframes[i]).width>=1||getDim(adIframes[i]).height>=1) {
					adIframe=adIframes[i];
					break;
				}
			}
			if(adIframe!=null) {
				var adIframeWH=getDim(adIframe);
				This.adContainer.style.width=adIframeWH.width+42+'px';
				if(data.close_button!='none') {
					This.adContainer.style.height=(adIframeWH.height+20)+'px';
				} else {
					This.adContainer.style.height=adIframeWH.height+'px';
				}
				var h1=getDim(This.adContainer).height;
				for(var scaleXY=1;getDim(This.adContainer).width>getDim(This.main).width;scaleXY-=0.01) {
					This.adContainer.style.bottom='0%';
					This.adContainer.style.left='50%';
					This.adContainer.style.webkitTransformOrigin='50% 0%';
					This.adContainer.style.mozTransformOrigin='50% 0%';
					This.adContainer.style.msTransformOrigin='50% 0%';
					This.adContainer.style.oTransformOrigin='50% 0%';
					This.adContainer.style.transformOrigin='50% 0%';
					This.adContainer.style.transformOrigin='50% 0%';
					This.adContainer.style.webkitTransform='translate(-50%,0%) scale('+scaleXY+','+scaleXY+')';
					This.adContainer.style.mozTransform='translate(-50%,0%) scale('+scaleXY+','+scaleXY+')';
					This.adContainer.style.msTransform='translate(-50%,0%) scale('+scaleXY+','+scaleXY+')';
					This.adContainer.style.oTransform='translate(-50%,0%) scale('+scaleXY+','+scaleXY+')';
					This.adContainer.style.transform='translate(-50%,0%) scale('+scaleXY+','+scaleXY+')';
				}
				var h2=getDim(This.adContainer).height;
				if(h2<h1) {
					This.main.style.marginBottom=-(h1-h2-5)+'px';
				}
			}
		}
		This.main_thread=setInterval(This.set,1);
	};
	function close(obj) {
		obj.main.parentElement.removeChild(obj.main);
		obj.isClosed=true;
		log('"'+obj.main.id+'" closed');
	}
})(window,window.document);
} catch(ex) {
	log(ex.message);
}